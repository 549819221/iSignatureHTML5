<!DOCTYPE html>

<html><head>
<title>iSignature HTML5签章示例DEMO(客户端-Windows)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="pragma" content="no-cache">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

<script type="text/javascript" src="${contextPath}/demo/jquery-1.8.3.min.js"></script>
<link rel="stylesheet" href="${contextPath}/kinggrid/dialog/artDialog/ui-dialog.css">
<link rel="stylesheet" href="${contextPath}/kinggrid/core/kinggrid.plus.css">
<link rel="stylesheet" href="${contextPath}/kinggrid/css/search.css">

<script type="text/javascript" src="${contextPath}/kinggrid/core/kinggrid.js"></script>
<script type="text/javascript" src="${contextPath}/kinggrid/core/kinggrid.plus.js"></script>
<script type="text/javascript" src="${contextPath}/kinggrid/dialog/artDialog/dialog.js"></script>
<script type="text/javascript" src="${contextPath}/kinggrid/signature.js"></script>
<script type="text/javascript" src="${contextPath}/kinggrid/signature.pc.js"></script>
<script type="text/javascript" src="${contextPath}/kinggrid/password.js"></script>
<script type="text/javascript" src="${contextPath}/kinggrid/signature_pad.js"></script>
<script type="text/javascript" src="${contextPath}/kinggrid/jquery.timer.dev.js"></script>
<script type="text/javascript" src="${contextPath}/kinggrid/jquery.qrcode.js"></script>
<script type="text/javascript" src="${contextPath}/kinggrid/qrcode.js"></script>
<script type="text/javascript" src="${contextPath}/kinggrid/jsQR.js"></script>
<!-- <script type="text/javascript" src="${contextPath}/kinggrid/jquery.jqprint-0.3.js"></script> -->
<!-- <script type="text/javascript" src="${contextPath}/kinggrid/search.js" charset="utf-8"></script> -->
<style type="text/css">
@media print{
#in{ display:none}
}
table{margin: 0 auto;}
</style>
<script type="text/javascript">

/* var clientDownloadUrl = ""; */
	if (!window['console']) {//IE8，没有改对象，创建一个对象
		window['console'] = {
			log : function() {
			}
		}
	}

	var iframeDialog = true;

	function delCB(signatureid, signatureData) {
		for ( var key in Signature.list) {
			if (Signature.list[key].keysn == signatureData.keysn) {
				var signatureCreator = Signature.create();
				signatureCreator.removeSignature(signatureData.documentid, key);
				break;
			}
		}
		return true;
	}

	function verifySignatureInfo(ismodify, modifiedItems, signatureData) {
		alert(ismodify);
		alert(modifiedItems);
		console.log(signatureData);
		return true;
	}

	Signature.init({//初始化属性
		//keysn : '1A10374905170616',
		//keysn:'1A10374905170616',
		usercode:'1A10374905170616',
		delCallBack : delCB,
		//verifySignatureInfo : verifySignatureInfo,
		//imgtag: 1, //签章类型：0：无; 1:公章; 2:私章; 3:法人章; 4:法人签名; 5:手写签名
		//showSealsDlg: false,
		//showNoPW: true,
		//password : '123456',
		signdate : {
			ischeck : true,
			fontFormat : 'yyyy-MM-dd hh:mm:ss',
			fontFamily : '楷体',
			fontSize : 12,
			fontColor : '#00CC00',
			position : '居右下(章内)'
		},
		timestamp : true,
		moveable : true,
		valid : false, //签章和证书有效期判断， 缺省不做判断
		icon_move : true, //移动签章按钮隐藏显示，缺省显示
		icon_remove : false, //撤销签章按钮隐藏显示，缺省显示
		icon_sign : true, //数字签名按钮隐藏显示，缺省显示
		icon_signverify : true, //签名验证按钮隐藏显示，缺省显示
		icon_sealinfo : true, //签章验证按钮隐藏显示，缺省显示
		certType : 'server',//设置证书在签章服务器
		sealType : 'server',//设置印章从签章服务器取
		serverUrl : 'http://192.168.0.140:8080/iSignatureH5',//
		documentid : 'KG2016093001',//设置文档ID
		documentname : '测试文档KG2016093001',//设置文档名称
		pw_enc_save : true,//密码是否加密保存
		pw_server_timeout:true//,
		//pw_timeout : 's1800'//s：秒；h:小时；d:天
		//cache_path:'/app/netarb/cietacweb_war.ear/cietacweb.war'
		//scaleImage: 0.5 //签章图片的缩放比例
	})

	window.onload = function() {

		/*var signatureCreator = Signature.create();
		 signatureCreator.getSealsByKeysn('T001', function(datas){
			for(var i = 0; i < datas.length; ++i){
				var ss = datas[i];
				//alert(ss);
			}
		}); */
		//console.log($().jquery.indexOf('1.8') >= 0);
		var signs11 = [ {
			extra : {
				icon_move : function() {
					//alert('禁止移动');
					return true;
				},
				scaleImage : 1
			},
			signatureid : '147683973060447728',
			signatureData : 'Q2VydGlmaWNhdGU9Y2FiSCtvWD1LelZ1N2l0NHBJM2ZXWVFETzlrTi9nOGRSbEM2U25QRmVUeDVqMUpyR0EwMkxFbXlNcXN2d0JoVVoNCkltZ1dpZHRoPTE1MQ0KSW1nSGVpZ2h0PTE1MQ0KSW1nVmFsdWU9SUxuWHRIbmxuR2JEYzQvY2M0VVVVR2JjY1Y1V3huUXhZSTB0PXR1R002Qy90N05DQUZYTS9PeVg2ZHJCaFUyQlU0eWhVZEZ3aHBDK2J0RkxzV0puM1VkdkJVSHl3NERzQnBKb2JHbVhIcGg9SHFmem50NEFNVTV3aHhINGVIOE5pVU5zQmxWeitqRENBV1FDSWR1TXcxNmptdHZtdnI2dmhhOHVvVTRxd3FVNEZ3VUYyaE4wcWpkNkFtbW1ORGJ5L2k2NW0rc0ZmU1hScElYSytJbXQ9OHltdk80YVIwbVF1M0pZVjJQL3RXeG4zeDRJZXNEM1RmaGQ0MlFraWdIRkx6ZHVuQUppWFVmcUJ0NjJzaUR4RTN0SUtMODZJMGJwS3oyaUZ1NDlqeVZNL1Q1N1BsczQ9NjNraVhKRWtVPU13M1ZJS3hVRDV3dVJHU1ZscDFkNUVxPUtTTzJYNml2Snl4TmZUSkQwcWtGV3hZbUpEOFV5dnk4dmdtUExrM3hZVkNQV1Y4PUdNRGhVZGhyRXNCcjFtTFBTM2s9cGVmMDg0dURrMTlGN1BmVjk3RkpCOE0ybzY3SGRHaVVyeUViZVd0NUVzUzBQZktiVVJYVkFPRm1oZE9yb0N2MmdyVmYzVG9QalFndWVMQ3NEdTU9T2pnPWVMWVZUVzZYTzdOdU9qSmZBcXo0elNCeUp5OHZ5djVIRGp6eXRGZmJPN3VyZ0pBdHorRUoxUUxrNkkxMjF5YVA3WDgyRXZ6dnRGajY2MHpEVm4zQ1dWPXh3ODVkTjF5UHc4OGQycTJtODRnTnhFSjVMczZzZDR4eVE1LzVTMG5YZVdEM3FnS05ibGU2SENhUVZva3ZRNTVGL0ozOGZ6MkpndEFoND15a3NnVDZ1UGJYcEtZM3hZb3NyRGxDN1h0SHJNWGsyOXgyWTUrQ1MzK2JScG8wMUQ3dlAyU21QZll0VFdzZGZUMGhEdXc9Ukc5SD1TYjMzemlGam1ZQ2pRS0YrQ1FYR09rTjNUakZTMFEzMDk3eVAyLzRsR21iR09LVT02QjRUTDJ0OTdzZklUSzUrQ3g1WXgxSGVMWHhFa2VEYmxRaHlOQjVqbWU1b0N4dXBlNXY4cjVmOTE9UXNnWTg1WW0wRU5pZlRFenY0RmxrdW9USEtTPWt2Z0ZDdjh1VWRyTGhGZjAwUXU9dHEvMmJEN28zVFlvaHJETXVjUkNzUXVUdUtTajJuMktkSGxtUTA5V3RscHdybjB2dTlqVDY3UEs9Y1Jmczg0RmJNL1g4Mjl2eThyUXhMazU1L0plTkhsQ2tmelRyaVBzNmZ4ejJ0RkhDTnQrQzYzVkhwZUh4Z3RTa0NJUzNsSSszQ0lva3hZRnNoZG5iRldvMEpEYj1xYWMrY2NjY2N1Y2NjY2NiRGN6L2NjYzZVY2MrSz0rQ0dlN1hIYmE3eERibGNwS0thK2JpVjZpbHBHN1Z1WEhpeHk3Q0FlTFY9K2N0Sz0rUDBUK1BJK2FpT0I3QzBUL0pEPUErT3QrUDI5U0xIYm9OYnk3UDJ6dytIN1BMVj1XZWZxR1hkM3ppUHVLYmNjaStjKz1pUUYrZUVNbjdiYmNlZXkvZUVHVzBOdGFKaE5hUldOY1ZKa1grMGE5cmZxT1ZPRG1uUGZXMURNRXhrY3lwQ1k9dD1HL1cwekdSbXBibFJwN21xZ0k3TjRhYnlUS1gyYmtqN0FhdWNtTFdzN2NPSEN0SGlOTFZySU93eGZuMmNqK1BqUWxZbU1ZekNPY0JrbzBZVFhnUm5wemh1Znptaz16YXNnaThmYWJjckZIY1BjWDBhPUVPajlvYmFBTGN4Y1lhVGZWYnZUPUhkNFJCVz1VU01PTTZDdGFwalVxS2NPN1E9bE9TYnRhbk9IV249TGJXekM3a0pFNkl6Y1U3ck02ejZ1L2MzYz1kZUs3K0k0MzJTSWNiVzliSHB1aGdxQWlsSnJnPUZXcFZGRE8vSVZSQXAxUlJjSFhSSENHZGhLZkk9K3FUT1JjN1ljSlFSPWNPNms3ZmFwaTM5OVZYK1h6WVArUEs4QkliS3BWNytSKytjWEFNV0lmZStZK0hhVkloZU83K21hUTJHMytrODcrdXBEM2ZBSVBpWG02UFFERzlpa3ROOXBTQlNLL0tLSzUyY0czU3Z6Q2YrdUFuN00vLzZjZDAwYlJ5NT16SUtsYktSNy85QzZwV1J5cVd1V1lSM2NSZG53V0tnY0szY0dLalZ4cGNhdTlTY0xjamNPM3grSUhSSD1kQ29wY2VrZzdSVFYyR2NHY3U5YVhIK1FHT2xLYnRSYmlTRitSb3M9ZGg2Y3BSY3hhdWN1Y2JwK1djM3hhZVNSUjhvKz1WVmFETUtxWGxiS2MzR0FMYW5RNGNucFJUT0tPUjZTY3BwQUxkTnAvRHhuPUxrK2IrY01wSVJHUE9yVDdWNCtIRE9SOWNLRFZBUjNSYXc3S0hpUU0ycFN6Y000NTlIeVJlcTlpZmM0Rz1XKzdvYmFEZnY1T3BvOStKZXBmaFBoV2pjOWNhcElSYk49cjNRYVIrZWN3YzBqSHBjenM3WE9wMGE3SDBTUzc3ck9iYTJXSSt0bXRibz0zT2VjN2NhL0NiU1ZTUys9dEFOR0NEVFk5YzlRcGwrSVJoNXVvYk5WUmVvK2VjQ1B3PUcyYzc5MEUycGNmZU0rY01uN0JIQVJmYysraWNUcEMyTjdpUmRtMGZJZnBjZStsa2QyZW5udGdWZGJZUDIwUklWZmlvSG9lcEN3T0ViTTN1VU0vV2JVODNHcGNETEhpYjVhVmMrTysrbWM1V0ljZThTYlY9OXBmR01lN0RTY1hIUmZSY2hmdkxneXVNZ2o0OWJJZ1I1MHAxNjBIb1g0bW1MZVljc3dEQVJSMzl3cWNWY3orZStLN1RjYjBjQ2wzYWViY2ZhTVVDVlJFY0g2UklHM0MrT1hjcCtiUklGUEVCZzR1VWlpUyszYWFiYWlJZnBjakdEaWJiQ1JMenFUdXphenJTY0s0N1lIRjBHY0wrOElhSGNIL1ZybkdTRGJ0RXBiMytXST1WPVgzSkdhMzllOTlkNEQzd1RFSXR6MTJWMGwzcTdjbVZQY2NjVlBvY2ErbWJ0S2FoS3BHYnhqY0xjOUtjUVFCSEhqR2ZDbEdjV2JHY3ArK2NIODZiNmFzQWNYcW1SY2JwK2VlY3ErYktjYUFwS2JzcFhSS3VsdUsvdzNRY2NVR0FjUzR3ZXpjZ21qK2NjYVIrYVJwR2MrSUlNY3BwWC9La2IyWGM9NFJ1Y3VYZVJsQ08rTVhqSFhXT2NYY1F1OGhiY2NKcGwwY3lqZU9SS1ZWK0hrcHBjWDBBUmxBd2psY1dTa2NFYVhUNzJKcmNBcEo1ZWNmTDNleGUwRStjSUlsQWNibTJJYlJnZWswYzZ0N1dLYzFiK09oM1I4ZkJ4RFM9cEtLQ2FYYitWNzJiYnBrcFhhSHdJcGY3NWo3Y2R2U0NiY2EwbllMS1NLblQvRVc4Yj1iK2N6WGNhcGxrYzZjbFJLRjZiTU1ZY2VTYmFtR0crSFgrY1JIYnhqTzdMOWViM2FyWD1zTU56YXB4S2JDWG5PK0tTNUMrS1ZzSGJjWXFPMGNxS0xLb2NLYit6aU1IbmdSTkdYaGpZYWNEYjNLL28zS2JlbGIyNkhraVZsY1gvL1V3YmRjZmN0cDdBUjlJOC9PUWJzY2NPYXhQYVhHa0NDY2FlS0NYdWI3Yy9hNEtjelljY2FDY3YwY1NzcEtLZkIrN1NYcTZjbnVPMmVxbUs2Q2ZmcEcraTJSWGM2RE9SN2NSbFJKSjBTY1M9VSt6NVZRNmFIPUNNYmZyVmNhcG9rV29hYWZLYUhiNmNjZzdwQ2NsSytPYVB6dHB6UWhIbGJwemNhS1lqbmNJdngrK2NlNlhIY3VhbGtDUTlGbnhtTTI3elB0K0tjdEhIYURLSVJ6LzNsbFFrTTdwNkVyY2JkY0tjQ3Y9UkZXY0xwYys4Y1JjOXBhWUtLUjZHN3RpaVJhUVlSS2NpK3VWPWNjMGErcDdIUmNMay9XPU1yUWN1L3ViY2NEOWxSR0hlRz1jbysvYzRkOFZ4bHBFK2NsMWNWTTh3K09jNFNWY2I9NjZLNCtJQ0NmdlV2Y2NERWxmS285NnBLZXVSMzJLSE0zajRDa2JNK0RBbEhIUXBHWDA5Ny9UWGRWYys5cWJvWHRwcGMralNBYzdZcDdwT2JIKzVLcEljYlJycFJsT1MrYjNheWNHbjRJWFdjUmowUnBML0kwY2k4N3V3RGxyTlJDQ0hhNklSR29qQ2NjN25iY3BISFJIZXB6a1J1S3ovS2VqYk1XY2NMYmNjWGE2bElwTEtSUjdtK1lQYUNjb0tjUD1IYmVPTUdlPUtlcHUvSjdXY2pIY2FvR3BSYlJ6OUdiamJXS0NiaVZrUz0zRmNrY1EwYkF5Y0tYUmY3SzdvU1QrYitPSDYrMkpScHBRL00zMTRIWHBnL0RjYytjSUNsY01wTEhXSzQ4TFg1Q1BwMzJSSFg5ZVdiPVdOTElyaG5lS1JZbmM0bWEwR2MzYXBSY3duSFJjTWk3dDBjYTM2VTBhYmF0em9YSjcybjZvYW55QWVxSWFLUnBjPTkrVm5IQ2xicFQ1SWNJd0xSbEJ5eU9kSmJTS3REUUtyS21RY3lTYncrS2NuRzIvS3VRY2pQM1djQ0FrUkVSb24zS05sQ3RjYzdVSGxLVnVuMm5sS09ueGJIVktiemFhSDdZenBjRHU3ZTV0UDNSK009VmJ1UnFJUmJjcjFJY2Frd0twSDhYbzRhY1g2M216UmNkd2JwbzN5aTc5YU5KUGJiZ0dSYz1kT3BWYT1UcERxTkNidHgzenpxMjkzPXB6LzFHS2FzKys9ZnRBV0RPMStMcG9wdldjT1djVHQxS09hWEJhSFJubUFuRFBNTWtqL1IrKzJ0YW9hUkVhdmMxQzFHcE9iTEtQYWx0ck5iMG55M3d2NTNlWS9lUjdnTytPVC9YbmFZdjJSYkNwOWFXK20rT2FuSGJwaW5kdzg2a0tUU3RRYTMrK1MvckhvYkxJM2NXUEtIcGNyZ3dYZit5ejNTTmZrdW5Rc0MrMTRTS1Y5N3crVmU2SGN1emNwY1Y5dU8zY2ptK0s3Yj1WWEh4NG89NU9BMDdqNStwYUxMQkd1dUU2SGNISU92TzBNM2pNSnplUC9zTGFkUXdTQ2NhY1JHY0UrK2NMMFA0NlRjcithZWNPYWFlaXdnY0hjKytTNG1TeCtxQzJSdlFZZDBGTE1McjdjRzRSUjhLZjFYQk5jWUNwR2VZN2Z3dE1QMVBRQWtQbmxjcDVlcDY0S21PR2x2Y011ajdDbzNIOEN5ZVQ1QUh2UHlSUnVWVlJ1ekhJYW8yek1wbDdSSk9XYyt6RjJyaWliY0hNclNhaXBSQXRCMDdPT1dUYm9LcEltSzlRMUg2alk0QVZBRFJmcE5HNmJHaUtHZHBNL3AwMzJjTnZVcCtBY2M4VnluVjdqR3pSNkkzVm5Dd2FiSFFjZ2JnNTRWd0phPWNWemZFS0tlNHdUUz1PS2FjQ2pqYzlOdz1sRE1SdGV3Uk1yUytqbnBjQ3JLY0tWN1IrOVRZL2NMb3I3ZWNLWCtJL1VsQWMwaWxLNS9wenFTY0tjL2MwOS9JK0NqPWFJOWYrWUt5TStLcEtDR3BJeitjZWFXb3d6K3AyNkthYUxSYlJ1U2NJV3psYlR6bHpjZ29zQUVHYUpjYzdhR2NCcnBLSE9qeWFuZUtLOU9wUVhjY0J2d2Nhc3BjVFFJQWNlV2NKMWVwMUhncHR0Y2NjVEdjczhXSUw5a2FIWS9JTDZPY1ZpK2NhYlJiak9SWTVkQU9wTitwN2FTK0dER3A0YUdHY3NMSEdpR2NEOEJRV2JlWXNBQXlpci9BY1BjY0VnMXBveU1vOFd3Y2M0TW9nVFVNOXkvPVJJS0ljY2Z2Y3BwSGM3ei9jaVJzK1YwZ2MrRGRXelJ2YkhFUW9CY20rZFM3K2NuUGN1c0M3N1BxS1hJaVJLejFhTlJnL0tyV3pXejE5NVNOUnBTc2NNbjNXcEExY1ZOUk9jOW1hYUhZUStmeGJ6YWtvOExNL3B6em9Dc0FjY1RIYz13bWJhMnFPK2F2YUE3YmM0ZTB6Z2FFb0N3VGt1Ym8rYlJrY2ErcFJjQ3ZhQVFCY2JZUmNjN0ljK1R0Y2NpM2FWRzZSSmFnWDdrZWk4Y3krYzgzYzM3NmNHUytjVTdBaW1jb2NiN0VhOWMyN2FXY2J0PTcrYzlYY0tuaVJEWFZjSGQ1K2JQS2NhK1FjPThsL0hSbGNvU0xjcEI2b0pjYWNET1BXYisxT2FVM2NLUEorWFFkY2QwMmM2PVNjaWd4M3BibCthaHAvY0hmYz1yZEJGY2hqYWNhcUdjVmtjSDlQMmNwdWxhQ3hSY084R2NQa0c4UnVJL1VXeXpPaWUrSDlHY2xDUmNsSVJja3VHY2E9Um8rQlJiWUdSazgyT2E0ak9jdCtTU2gzNmFOcDBjL0JHYk09bGNtVlJjRz1wYS8rUmFjdUliSmpsY0lOR2NwbWNjREVEK2lZQTd0eFlSa3ZwM0lJRUhJOWNjZFlSYVhwUkQwZGxjelFjYjJvem5SbElPbExSYlBwcGM1alJIdjhjTlA3Y0hHVklhd2xSY0o5UmNHeENjV2U5TkNLQUswelQrK2pHZ3BmQWFVeXBjcFhSNFNvY2xhTlJhRFJwY25RUk56YnorYmlHYWU3eStlS2NhdytSK1hkS2FjalhjYkxwY3VDRysrQVQrNGtPKzNRR1creXBhNVdwSGpjS2NtTWNORjNhbEgwbGM9TVJjWEZHY3hyVVlHemVjYzd0R2NxRndhTzh3Y29oQU9HNitZZTZqT0dOanBvZy9jS0JXY0l4ZWNwdE9jb1VZbGRrcE9UVi9wbGR6Y3pGTGMrV09jcHZiY2N2bkFjZDNJSEZBOUxYTXAzMVc9MldqYitVT2NwV01jYUtTQWtYY2srd3BwMEtNYzlZc3BDanQzKzZMUXhUMEkrbU1jakhwcGsvd29XY3djUXRqS3FUallxRUdZaGpXY2JNaitlSkw5R0h3OUdrK3ArRGU9L0hTcEFMN2FlQm5BbEdLek9CdzlHQlZ6dzFHcG9hY29pRS9ZcXB4bHBPV2NvcVdLTTFMa2Njd3ovd09wbm1ZSS9NcEFnZGVIK3pScHpDR2M4RUphYzRzU3AvM2FjSUxjU0hqei9OR3BIbkxWOU5MTzdoYmJsdVJjdFBNY0tKd2NObHBjUWYrY3RCYmNhNGJ4L0NVcytEWFZhWVFLY3A0bGN1N0tPSGJOZVk1aktxNW9LYmtSY0tka2NvVExjMzQ5Yyt0cGNhK29jSzVOWGVjNGIvK0ZjdGI2Y2JRbWFFYm1jK2NwYz1hVCtvdFZjT21EVm5EeitsbExjb2VxY3p1cGNWZTNlM29uY0h1a2N0NGNjb3R0Y0tJcmNWRFFZU2NQWDRCSkNYSkVLYXJ6Y2MyemNiNE1jcTZDYTBheitYSG5jYXRxU1E2ZC94Y2llZnR6Yytzcy9NMHplemVMY284YmE3eE9LPW8rV3Aya0N4K3NjWDkrYysvK2NiaGpjb3o0K3p0M2N4MHFjbWNsK3VvOGNja29ibzN6WFRUTFNEYnljK01mYzdXbWErYVYrY2ZpYjhjY2NLdkZjcD1zUHhhdSt1RVhSYjB0YytDUGNWaXVhdmxmY29jNStLa0Jha3ZxN09kT1Y0ZzRCSWlHU0lhQ1dzK2FBY0gzeT14ekdIVFJZQWMwNm1UTlNWYyszcEhYVHBjcjVjYmM2R2JmbVJhdWpHWGwxTStlU2xiZWJwK2J4Y2FBRkdjQXFSY1BsUmI1dWZPUkRBU1lzc2NvblJhcFljSDc3UitYaHBTY2JjYjBObEhmQWNhWXRSRnBxYm9EVE4rSXB5Vj1KdjFobnMrVzNHbDRib2Nud04xcj1HUDBLQWNBQlJiQ1RwT2NmQVRvdlZiYnBhY3MwY2JOUXBjS0JwY2liR2NtYUdPZFdjY3BOUmdwb2NjZjVwbDNHSUtMaEFKQ2RJbmF2bGJJQnBiY291K0Z4cEhHa3BhQnJWYW5VSGM0b3BjZDdwSmQ9VFQ4ZWZjdytSYmh0UmNQb3BpM2lsYVIyR2MyaVJiSFRHYUdjUmMvR2thM1RjNTBBYXprMnVKeHY1K0k2cGNkRlUvSzNxVjJRdmVhRz1wRHVKd1gzM1hzL1hBVzdWd2NXVE9jdXVTY1I4SytUVHBjaWJ3SFJoTElmTkp2ZVIwSSs2S2NTelNwQ2k3Y2pnYVJEM2E1R2VLTkdiR3BjdExvaj0vcFUxVEdjelJjUkxtbDc0TDV3bStPUnZScFUyL2xjVkw9SWY4QT01bXNSb1NwK1RNdWN6UnVjY1JjZ0h3S0x3V043a3Y9aUtHcGVyS1ZFa2x2ZHliYVdUeGxvclJLakh3cHRqR1Z6S0drLzJISGVCR3B0SWphN241VlNOU3BSPUtwK3BXWCtCS3BIOUc1bWFiMGxpVXV3L0dwVnRubElCaEFJNnhLek5yYWlHYzdvVlMvbytXVzFOZXBjUkd1K2dXL09yK3BTYStjNTNHSVcwNmFnZVNRZWMzSWFwTHVja0svL2tXcG1iSWxhSkdYemVXTlk0VU0rUXdsN2NtU2M3dkRTK2swY2JYMz1Lb3ErYUt1L3ljQSt6dUdjdGJFNSttcXJvdTUrb1RIY2F5a2NISytScHQ0Y3p2TWNJZjB4TG1WdEY4Vy9vaDJjcCtFY3p6S2JQRGNYQXA2PVg0NCt6SUdlY0xFY2ExQWNsQ0FjVkxjYS9IN3hhS0NqcDgrY1Zhc3A9N0M3YjV6YytHeldhcnBIPXhCa1VrN29VY2wrYnBKY2NWU2FuS25jVm89Y2luaUd4MmEwZGE0K2NobGNjWDZjcGJSY29lVWM0aGlheVVIY29STWMrSW5jY2dHY3pmTGNhNlQvV0lyR1dENEczY2RIbz1iS1hVSzdjUWtPVjM9YlI0R0pMb1JYU2NKK3p4a2NWRUFIcFRwalZEN2JDRUljKzZDRDNjSWMrY0Fjb2tXYlNUY1cvYlljYzUvZ3hRdythb0NjRStyd1JIL1FiYU93TmM9SVI1R0hjY1E4Ukk9ZlJjL0JiNThocW43RkdiUzdSK0Y1Y0gyZlJiUm1HY0h0UmNlUDZ0K0tjSHdNY0FRbEFBa2I2SnI4YWdseElhSWFSSGhidmNXTzBjS3RwNlVEcGJEdkVjYVJrYzdVY3BVTmVUZjlSY1ErcGFxQmNicEtsYnNSYnIzMWNEbzBwYzB5R0hXUVJMU25BNVM0K3owOUFMYUxhYVRuemNkQ2NjPTFjQWszZmFSNXczY214Y3VrY1Y1U0dWM0NXWDFVcGEwQkNjSGhSYWo0R0hmbmNjWThwRys2YUlHSFZFcD1SMG02SXJ6cUdIMkFHY0lncGFyZ2NhU2p2K1ZlVjB3R2JXNzZjSGxKaU5qekxIejhHUnJRYmN6S2krRVczSlh2NnpzNEljVlRHYk1SUitQSVBIeVNjK0lhcGNmS0crWFVVeHg2ajJiU2hNY3RzV2NpS3JObEQvY1hES291TC9jK1hHcGJnZT1UWT1pTU8rSTg2R1llYVdjQkI3Y1cvc3FXY0t1MjRDcDdTT3BpQXdjbE1iR2t1OWYraHdJVzhQZXdtM0FncVk2NzljazNUMHBicVd6SVlXY1NPdEw1d0xLcnJjY3ovWFBpcE1nV1U3cGMvZmFkdXVPUm1rbk02NzM0UUw9Y2dPcE9hNytSRy9wY2l5Q3hJc2lyaXVhSG9LWEgyaDlrdm1JPTNqYTc3clZUb2ZJY3R4QWNWV2NvYlg4cC9McDlxcHRLPU9nK2xRREw4K3BTdlZIVD10R1hUdnRwdWNwQy9wY29GU3RLT01rNytNZ2prS1lwK0xwVC9LSDdiRz1mPXY4V3VPcGpnTWNhN09vTGd3Z0V0aDNlZy9RTGErdGdPZ2NhRXdjWDFBZ24wVVBBdVVNY29MMGM5M2hjRGxnY3pTR2NhY1FjS3hUTElkRFNwNE5HSXptY2NIN2NhOUpjS2RJT1Z4VEhTOWFTdUs9WXg0NGNhQ1BjS2NHK0sxSWNjM2VIRDlrcXh4K05kPVYrK2ltY09hUmU9OUtNSVZmYzRqOWFEVkJIVmJYYVRhdCt6RXdLWStHYkhybS90QTFTaTR1ZTlPL2NvSWhjRGlQY3cwbTJidkNTM1hFK2N5cGN6PUhhPUtTKz1EL2M9PUNjY3lpZUk3eGNhSXRjSz1WYz1SRythbnNlY2FjYS9DemVXdUMyUGNBN2EvUWNhPURjKzdlN2I4bGE5PTVjVmJMPW49MUZDYXErYS9ianAra2N6Y2pMdFlwYTBHaE9iWVFTWHQzY3ptbGNWQWtNSXNVTXVEMmM9SE1ZYkVNcGl0YmNjNmJjY0krY284SStpQktSV0t1Y2lIcndSc1J6YWI4cHBjb2pjdT1DaGNhMXBmR0NsNmM1SS8wL0orNGFwY3F2bHNSWEdjQytwYTRNaGJyPVJiejhSRnBlR2FmcVUrZktSSEU1Y2NIN1JIcVRHY1lyUmI0bmxmWGFSYUZwQWIvblRiNFFMYmNyPWJPQTBjQnBlK295R2pzN08vcFQ0Kz02UjNvOVJCUj1SY0hpdUhpR3B4RHVjeGh4SmNrdEdhQm1SY3BlQ3ZHWWFIN3lIY213NGM3NUcxQWVSYlk2aStTQ1VjVCtrRDZuYzQwSGNIZyt0Y0hEUmQySDBuY2VhbGNESWNhN0diM3dHd3NUR0hhNFlMTW1wYVZ5L2NKRGsrSjE4YTdsR2NJeHBISDhSaGNmbGI2NFNjNVFyY3V1NytBWGNiQTljYks9UllzVmNISj1WdGNwbGw1UmxOUklJYS9BY2xWY0c3SG9SYUE0VU1jNW9wOFNjN2Nuc1M3c201RytlS2Mzc0hHdUlNNGorR3BUUzdjdFNGbHBlV2NDdktseG1NY0h3QUNuUGVpYXdWUC9LY2FjYWFhZWNXYWFjVHBjSEhURmFXaWJpMVJiRVBsUitPVnA5SU9HOWlwVnBwL2djUlJqa2JTek1TaW9EY293TllrcVNQZFhjNlJhTFcrY3VMN3VSU1FMT0hwUjdSVmFuR3BLd2NBR0dQVmlnR2ZteTd4YXZPMz10YktHSWQ1VldlVyt0UnpjNjNFeitxL2hnPVdCZkFPVFllS2xwbERvT1diUmN3dC9mYktlPWxhT3B0TWNGY09pM0hRc2VvT2NnVE5vNnhBazdlZVhIY0hFTmNPMk9vdExwY29yOWxSMEcrMTYwSVJTSz1jMzliWGJvM0tlKzhjTU9WcWdGY2VlUmRpbkVqdEMwUT1JRGNEM2tVR2ZjWUlrbUhhTUE4UzJBTFY0REdmPVFRSVdjcDZvRU5jTFArK1RMditzOGdjSlZiL2FUMlJUb0c1WXJxdnMwV3FjY1ZDUlhxV1NHNz1QYVRjcjNwQ2NhY3pPbHV1NTRUc3dncEFNcjRSMms2RE05cGR0Ynp4YUtISkR4N1VhYzBMR2YwVmRESWE3S3VHSXljVmNLND1zYmVlWGJ6S2NWUnpwVkpSV042Y3Y5T2NYUUZUK1hHT0svSGNIYkVHcHBDaj1zcGNSY2JjRVBHV1Jhb3BOcC9XL2JYYkZlYVJLWFFjV0krUlhjS2MzN2lSbkhjYz1SeGJHcnpSWXBNcGVQMHZQNnJyQk0rU2N2c2Nma2o1cUM3YytjYzJsaFhKYXVjV1J1Y3BWSDZ4SWVjWVBLVjdSdHQzUGJSZVlFPUY2UlhsUzhWSytob3dyTkg1TFlUOWo0b3J3MGJSZUhwcVlDUDh1N1IxVkxhbExOKzFYMj1hdEo3OEN0Z2l2UkdjaUVpZXpSK2NIYndjN2NicDVXNVJjWWMyYVd0dE8rRnB3b3RBUmViYVI5Vkt6NkFBTHZSSTNjaWIrTUFHTzBhYlI2UlhlWEtZWGFvQ3pHYTk3OWY2ZmVsQUVUOFhXaVhGSSthejZKSlJHYzE4dk1ReWNoRG5LY3A3Y3pQVkNIVFloSDRPZ2ljS096YzdQYkM9b0o2Y0JqNmtlVnlNVjl1d3JMc1hpWXhiaEVtMFhrUmVJQWFSY3h4Y1hKZUhGUUw9K1hZcGFlZ0djS0xlSERscHZlRFFLdGNheFJjQVJNbEhDWWVSOFhKWEhuYjJhcWV2MWM9eTBZdEdXby9Dc01iemZjV2FUdHRibEtiZjUvR2h4YlJDYkJYY0s0bWMyWGE2L2ljalZwa0lPWVJNZlVIQnNLVFZjPWdpYWZmQVBLeXh2UGVwczdZUU5sbWFjcFIrR0xtUTZuZTU4d0pLT3NHUmJSb0R0a0ZDVnRmSXhPeks4YnFpQytRczB5Q29WY2l2R1FOSkhmV2EzeUx0RVYzVlZhWFZIS0NYbXV5ZHEzUkVwN2NidGszcUtBUzFNN2NLYzZDU0toSitiVmJQemNRUVFRN2Y9d2kvcEhJbCtjTkdQT21mS3ljY1hjUllRUEd0Q2JpcVJMRzRWYjc2Yj1vZllYM2NReFRDRnN6cExjVlZTK0tBY2pjZjlES29jej1kOVEyOWpCQlJid3IwRzMvUjIwcGF6WVlERk9TMHd4aWhSOUR3NUlwSzNJc0hEZUhMPU9QanBQUkdreitSb2U3YlNwbFZIZDlRVHlKR3RhMkdjS05LUytpSmJvblc9YnU2bHAzcEFwaksrclUzK1ljdGxvVUFjV1JjS3RiN29oY29sY1hHYUlSUlIrR1JMV21ndkVZRkRjbVErK2R1azJmY05RK2NXYWpLYzFNaGJvM3IyUjZHYkdlM2EzaCtvYVdUK2FLdXBsY1ZlNTNjRmhLOUtkVjQrZ1hBb2NITTcycEdrQ2JYR0xFK01EV3UrMz1FRytjYVBNPXBDUllxY1hCKytpYVI9YUc2T2JsT2dnYUZBbENzb1hIMWN4YzEwajZGalcwQW1vU1MvaGtQM3RhcDFTS2ZXMzd2SzlXZWsxc2VTQz1ZU3BSYkQwU3BPVFJ1ZGJud1l6RXg4M3A1blN6NnQwSmFXSUxUN1grUmM2RWZpVjZLMGl6MmFicU53TWhrRVFtVFhJYTFhNnVvQjJjK2piTFRPOVZwY2U4TXV6RFFzU2N6bzdIMmE2eC9lPVIzSk80TFNjS21YcWZ6REx3VFFMbFY5Vi91PXEwUitPK3FUaHF0ST14U1BJYW9sMElORHdUU3hwUC9BeGlydFkyMDJGWVZmcTNSS1JwejF3PVZPMisydTRnajlvRmNpSXFDNEhKL3ZHU2Z0ZE9sU1BwYTdDMDZ4UDBrSDA9dENSQ2luaWFiYUw0UnpjR0hxREMvaFg3MXRDcU9QZUk3ZGJUS2Vrbnp3OUlZY0JJM2VXPURZTC9iMW5MZXF0OGw4WFM2M1hhRzZUM21Fc0xVY2xwVmMwNjNvb2lNVGZSQWVSZTZBb1RwYzNlYnRSNW5pPWJkY2VXWXJ6VFY0MDN4ZXZDVHo3Y0dLY3RHWloNCldlYkRvY1ZhbHVlPUkrZ2ZmSEwyN3Q4VzE4UTFTdDgxcko4NWV0ODJKaDh2RkdMVg0KSW1nRXh0PS5naWYNCkNlcnRDb250ZXh0TGVuPTANCkRvY1ZhbHVlPXBEYUdOWG42T0RJVE5tTUJmUW42L1BCMk5tOUxLK25KZ1hZME5QWUxLK1lNL1hBci9QWTBLSFJKN2JNbTdIY0F1NitNaTJjMEtibFF0M01HdTZjSjdmL01WcExWWVFxVGcrcWxOUVdCc084SXF4YndxczhJcWV4Y3FxM0Vxa21wcXNtaHFzSlJxNVF1c1ZoWXF2SitIcFRZL21ZMGZQbzE5ZkxtcDJvbzdIU01pVzlvSUhhYTdmWStIcFRma1FnSk9ESUUvUFlmZjZFNk9RektWbUJPNFcxc1lGV3lrRHBMLytTMjluZzlXV0k0dFExdHVtL005b3pqcDI5Zk5uYVg5WUlNaVFlQTNGej1wZmMwZitZMThXRUEveTl5cFBsWVFSTFZXbW5GTlBvTGdEem40OENMZUpRVmU4ODVlYjZGSnZVZUNOS1RIcFQrT0RJbmdYbjE5ZkwwN0grTXVmKzB1ZmN5S0grTHQ2cEV0NnBxDQpTaWduYXR1cmU9MQ0KU2lnbmF0dXJlVHlwZT1TSUdODQpTaWduYXR1cmVWYWx1ZT1CaHRBemhlaTRXL0RDRitxdTR4NkRjWlolej1jK2J6NTNqN3FUYjFZYktBOUQzcFpaDQpTaWduYXR1cmVUaW1lPTIwMTgtMTItMDcgMTQ6NDU6NDkNCkRvY1Byb3RlY3Q9MA0KRG9jUGFzc3dvcmQ9DQpEb2NDb250cm9sPUlYQjZnUUVuTkZJeklITEdIcFRpZ0RpTFdtbkZOUG9MZ0R6bjRmY2liU1lKT1F6ajlXWVNrRElwL1BuSmcraXJnUXFMNGZjaWJTbm90Z3VXMC93QjdjTFZJRGxMV1hvME9RRXRPUUVuNGZjaWJuYWwvUG8xZlBvMTlmTEdIcFRwL1BCTDlRaUxZPW5HOWZMR0hwVE9mV0FvZ1BZSmdITEdIcFQrOVE5bGdRQUxXbW5GTm5JVE5RWVhOeXoxT0RwQjdjTFZRb25iM0hMR0hwVGJmV1RLNGZjaWJTVFg0ZmNpYm5uWDRmY2liU2xrZm5LQjdjTFZXV0FrVzZMR0hwVEhXK0VINGZjaWJTST1XTEdCN3BMVkkrZzNXZkxHDQpQcmludENvdW50PTANCkNoZWNrPTENCktleVNOPTZDMUUwOTg1RkVEMEExNUQNClBlcmNlbnQ9MQ0KRW5hYmxlTW92ZT0xDQpTaWduYXR1cmVOYW1lPTZMU2k1WXFoNTZ1Z0tPZTd2K2lKc2lrPQ0KRmllbGRzTGlzdD1JWEI2Z1FFbk5GSXpJSEUrTm1pRU5RWUpnK24rdExFRS95SWZrUWdKT0RJRS9QV0JmRFkyZ29pVDltcWxnPVkwOWYxb05Qb0NOWFlvOVhuTFc9elRORklITnlZSmdIRW9OUG9DTlhZbzlYbkxXPXpUTkZJSE55WUpnSDF6SWZGU0pzRFNKS2VCM1dXcXF1Sm5xdUNWdExZTWdvYWwvUG8xZlBvMTlmRW84PUlwT0R6bE5XcWxOUVd2V1hvME9RRXRPUUVuNFlhbC9QbzFmUG8xOWYxcC9QQkw5UWlMWT1uRzlmRXAvUEJMOVFpTFk9bkc5ZjFPZldBb2dQWUpnSEVPZldBb2dQWUpnSDErOVE5bGdRQUxXbW5GTm5JVE5RWVhOeXoxT0RwQklYWVBPRFlqZ29pVDltcVdrUUVuSVBCME5Rb0x0RWw5cFNSQlFvbmIzSDFiZldUSzRXemkzU1J2M1NPQjNTT3ZRV09CUVdPdjNvVHRXNkVLUVNxM3RFbzdRbktCV1dBa1c2MUhXK0VINFdpcGZXN3ZJK2dmZkhFK0lFaTd0TEk9V24rQkkrZzNXZmpaDQpFeHRQYXJhbT0NCkZpZWxkWE1MPQ0KU2VydmljZVNOPQ0KRXh0cGFyYW0xPQ0KRXh0cGFyYW0yPQ0KRXh0cGFyYW0zPQ0KRXh0cGFyYW00PQ0KRXh0cGFyYW01PQ0KRG9jdW1lbnROYW1lPQ0KU2lnbmVkPTANClNpZ25lZERhdGE9DQpTaWduZWRMZW5ndGg9MA0KQ2VydEluZm89DQpXaW5TdHlsZUxlZnQ9MA0KV2luU3R5bGVUb3A9MA0KU3R5bGVMZWZ0PTANClN0eWxlVG9wPTANClNhdmVIaXN0b3J5PTANCldlYkNhbmNlbE9yZGVyPTANClNpZ25hdHVyZU9yZGVyPTENClNpZ25hdHVyZUlwPTE5Mi4xNjguMC4yMTENCkRpdklkPXBvczANCkllVmVyc2lvbj1NaWNyb3NvZnQgSW50ZXJuZXQgRXhwbG9yZXIgOC4wLjYwMDEuMTg3MDIgKFY5LjAuMC4xNzgpDQpQcm90ZWN0VHlwZT0xDQpSZWxhdGl2ZVRhZ0lkPQ0KUG9zaXRpb25CeVRhZ1R5cGU9MA0KUG9zaXRpb25CeVNpZ25UeXBlPTANCkVuZG9yc2VtZW50VGV4dD0NClBlcm1pc3Npb25Ob3RQYXNzPTENCk11c3RTaWduYXR1cmU9MA0KU2V0UHJpbnRlZD0wDQpQcmludGVyPQ0KV2F0ZXJXb3JkPcuu06Gy4srUDQpQYXNzd29yZD0xMjM0NTYNCldXRm9udE5hbWU9utrM5Q0KV1dGb250Q29sb3I9MA0KV1dGb250U2l6ZT0wDQpTaWduVGV4dD0NCklkZWFQb3N0aW9uPTk5OQ0KU2lnbmF0dXJlRm9udD3LzszlDQpTZWNvbmRTaWduVGV4dD0NCkRlZmF1bGVXaXRoPTANClNpZ25hdHVyZVNpemU9MTINClNpZ25hdHVyZUNvbG9yPTANClRpbWVGb3JtYXQ9MA0KU2hvd1RpbWU9MA0KQm9sZD0xDQpEcmF3VGV4dE9yZGVyPTANCkRlbGF5RHJhd090aGVyaW5mbz0wDQpOb3dUaW1lPTIwMTgtMTItNw0KV2ViVXJsPQ0KU2lnbmVkSW1nVmFsdWU9DQpDb3VudHJ5SW1hZ2U9DQpQREY0MTdTdHJpbmc9DQpPcHRpY3NQaWN0dXJlPQ0KQmFyY29kZVR5cGU9DQpBcHBDb2RlPQ0KSW1hZ2VUYWc9DQpMb2dTb3J0U3ViY2xhc3M9MTMwMQ0KTG9nU29ydD0xMw0KU2lnblNlcnZlcj0NCkphdmFTaWduPQ0KVVRGOENPREU9MQ0KS2V5Q29kZT0NCkltYWdlRGF0YVR5cGU9MQ0KU2lnblRpbWVUeXBlPTENClRpbWVTdGFtcFNpZ25lZERhdGE9DQpUaW1lU3RhbXBUaW1lPQ0KVGltZVN0YW1wQ2VydERhdGE9DQpUaW1lU3RhbXBSb290Q2VydERhdGE9DQpUaW1lU3RhbXBSZXF1ZXN0RGF0YT0NClRpbWVTdGFtcEV4dHBhcmFtPQ0KU2VydmVyZGF0ZXRpbWVFeHQ9DQpVbml0TmFtZT298Ljxv8a8vLXn19PHqdXCsuLK1NfpDQpVc2VyTmFtZT02QzFFMDk4NUZFRDBBMTVEDQpEaXZMaXN0PQ0KRXh0PQ0KU3VwcG9ydFZlcmlmeVR5cGU9MQ0KVmVyaWZ5VHlwZT0wDQpWZXJzaW9uPVY4LjA='
		} ];
		Signature.loadSignatures(signs11);
		/*  Signature.bind({
			remove:function(fn){//签章数据撤销时，将回调此方法，需要实现签章数据持久化（保存数据到后台数据库）,
				console.log('获取删除的签章ID：'+this.getSignatureid());
				fn(true);//保存成功后必须回调fn(true/false)传入true/false分别表示保存成功和失败
			
			},
			update:function(fn){//签章数据有变动时，将回调此方法，需要实现签章数据持久化（保存数据到后台数据库）,执行后必须回调fn(true/false)，传入true/false分别表示保存成功和失败
				console.log('获取更新的签章ID：'+this.getSignatureid());
				//console.log('获取更新的签章数据：'+this.getSignatureData());
				fn(true);
			}
		});    */

		////////////////////////////////////
		/*var signatureCreator = Signature.create();
		signatureCreator.getSaveSignatures("KG2016093001", function(signs) {
			var signdata = new Array();
			var jsonList = eval("(" + signs + ")");
			for (var i = 0; i < jsonList.length; i++) {
				var map = {};
				map.signatureid = jsonList[i]["signatureId"];
				map.signatureData = jsonList[i]["signature"];
				signdata.push(map);
			}
			//var map2 = {};
			//map2.signatureid = '147683973060447728';
			//map2.signatureData = 'eyJ0aW1lc3RhbXAiOnsidGltZSI6MTQ3NjgzOTczMDM1Mn0sImFwcG5hbWUiOiJNb3ppbGxhLzUuMCAoV2luZG93cyBOVCA2LjE7IFdPVzY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvNTMuMC4yNzg1LjE0MyBTYWZhcmkvNTM3LjM2IiwiZG9jdW1lbnRpZCI6IktHMjAxNjA5MzAwMSIsImRvY3VtZW50bmFtZSI6Iua1i+ivleaWh+aho0tHMjAxNjA5MzAwMSIsIm1vdmVhYmxlIjp0cnVlLCJrZXlzbiI6IjNEMkI1NTMwMDMyMjA1MTQiLCJvcmduYW1lIjoi6YeR5qC856eR5oqA5b6Q5qC56Iux5rWL6K+VMDEiLCJ1c2VybmFtZSI6InhiIiwic2VhbCI6eyJoZWlnaHQiOiIyLjk5IiwiaW1nZGF0YSI6ImdUbnhvYStDSlozRU41ZC84ZTBzUTlIV1Z5cVBiQkxraEFJdTE9ZndPdFNSTVlHNm1wREtjelVsRlh2ajI0cmk3ZWM9K2R4PUE2Z1RwZ2ROZ2dnZ2dnL2lpaW1nZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnbkNYVGdvZ2dnb2dFZ2dnZ2duMmdDb2dnZ3NyTk5BWlNqY0Z2MmM9cmFjT3VmZXR3Zkkza3FLUzZ3Z01LbUNQY3dJR2p2aDUyTW5oYmRieHhKaUp0Mz1POXhTa2NUT0swU2xEZnhyUkJHNm5iUjRob1JWeUV0TVlFQjRYa1FqUFUveG1qZVU2SHJibEdwanZRcmlpMFdBWGhKZVdIV3ZhSWVZeUp3ZTBoRlNlb2NINUxWSUUxWlo9UXBVOHV0SU5mdEdiTyswVzN2TElPdjE5d3Q9Tz0zdFJ0VExHUlhkcEJQTHZSVDBBdWpyckdXK2tCPUZ5UjJXbjZIUE5NMmRteU42VHB6U2ptNUxSRFNsMGM0enVsOUNOWUN4MVlMb0x1R3hPa0VsZlBidkZEK2lSYllZR21CUlhsZEtWdmlsSWp1V3l0SWlvNndzaWdnVjJUcTNMNkhLbmRuMG89anhJPXdoZWRpMUFxM1VJcERScmN4ZWdlQ1dtRnVRekZUeURBNTl1Wm9JZENBUXFWTUl0WEVEOVpmNHk5K2Z0dzFVME53TmRVMT09VU5iPWRFaThycWJRUVBIOCt3MlVaME9RV0srT1FiZFhCVFpLUzE1ckh2TFR4cVNvM3NnR1cyMj05cVl6RXkzUVYzNitMekIzK1ljd3FlKzBUODNsaj1YYk9MdkhsV3U5RUIycG91YStuem01UjQrQUYySklQV3BzTnV5NmhmYlNyWDBTam1LM0pBUTZDdUFhNCtMTXdaQjBBOCt2TVlzYUw9b3F5d2xXcVFLcz1RcHdCT2xGMkErTWhnMmV3eWxqUnJySHh3K3dVZHpqT1lJZHBvYml1PUZucitBaXdxd1JRZ3ZjSkhzR0p2cEVhbXByR2lxdmZhckVJSHZVYj1RYjVaZkNUNHJMUldvSVg0K0VLV3I0THdVVWNhd3J5PWdmNlBsZ2w5YWdUV3VraE5mYzV0PUZ2OFdXeGwyRDgvaGhkaUo9PXRCNEJSMXVWZ2o9eVZIQUFxQ0JlR1RmZ3d6SjhGaHFqdC9BTEVCYW1VYWllOWFWSjFnMXVBSDBQK016eWZOTkVFUEpVbFNMcEg5QTlEaTRVNVU4eFR5T1dVbURKOUl1STFsRGF0MHhOY0V0PWxkeFQwMTFBeitydkoybEhpamwrY2FRMFl1Qjh5c3lBKzMvUXR2WnR3U0doczFBM0RrQUllKzBQbGZGVkpFdDU4aHNmbE5mWUgra1hTc1h3SmV2alJFME9seGZxWnZzdW1UWnhEOXZrMT11d3NiU1VNOWl3MVp5K3RIZHVHME5mbm5kRDFJT09TdHgzdTlBYUxTPWhQMVFZSUpZcmJhM3l2ZEtTT25SUzJZcFNJeUQ9ZFZIU29ZYzVmZkViVGtyK01rSU8wTFZHTHFrVm1hcVNXaW9LQk9ST2N5b3BHSGF6aFJGRlJQbVUweU93TlJMVVZMRnZyWGFQT1c4dEpBR0lEdlNZR1lsRHVYY09TaktCPVM2SjVBcjI0ZGoySmpKakRIRjFCa3NrVjlCUzAwSXZ1UDI9bElHZFJZNjlPeGhCQ252K2E0UENuT0JiMjlHMGVHRXZFZ3Q0clZ4Y2JOVFBsUVM2cHBSM1lmaGYxWk5GTUdSM3dxS0pUL3NXSlJKUz05eXRTb2pGcENtdVFBbEdXeDVjRDNSVXZRNHlLTk9TaWRCREUwaU5MYlAzNG9lM1V6bWNTPWZxbHM5WmpNVzAzYWhsRE9VL2ZlV1ZSUDU1anpCTkNZdVgyR2hZV0VJcm5yenNURXRXQjBnUEtPb3Qrd3MwQWlRcDg5TEVCcEhwdTlsTXdTPWNqeWloQXJVTklmWnhjWTN0QTBaSnpIWHlJYnNUdWZWcENWUjlXZk5Ra1VwRHFJR0dlREh1d01McnJUL2FwWVlmMVdJa1dlTXl2cllMVmZraUlsSXYyM3RFUnNrRWdiNjZDam8yaHZjUjJ5eDY0Ry8vTkcwWGFENG1mRjRqZWVzUmtsVThIdS9iRzZoL2NYRDJoMFd1anBudlFHR2t1RzhZNmlyPStDMy9LMlA2NDI2MDZqdjBVWmlpaWhQQzhUS29nb2dkbTc3IiwiaW1nZXh0IjoiLmdpZiIsInNpZ25uYW1lIjoi5b6Q6I2j57uP55CG562+5ZCNIiwic2lnbnNuIjoiZ1RueG9hK0NKWjNFTjVkLzhlMHNROUhXVnlxUGJCTGtoQUl1MT1md090U1JNWUc2bXBES2N6VWxGWHZqMjRyaTciLCJ1c2VybmFtZSI6InhiIiwid2lkdGgiOiI0Ljk3In0sInByb3RlY3RlZERhdGEiOlt7ImZpZWxkIjoiaXRlbTEiLCJkZXNjIjoi5L+d5oqk6aG5MSIsInZhbHVlIjoi5ZCM5Yib6L2v5Lu25YWs5Y+4In0seyJmaWVsZCI6Iml0ZW0yIiwiZGVzYyI6IuS/neaKpOmhuTIiLCJ2YWx1ZSI6IumHkeagvOenkeaKgOaciemZkOWFrOWPuCJ9LHsiZmllbGQiOiJpdGVtMyIsImRlc2MiOiLkv53miqTpobkzIiwidmFsdWUiOiLmoLnmja7jgIrlkIjlkIzms5XjgIvlj4rmnInlhbPop4TlrprvvIznu4/lj4zmlrnljY/llYbvvIzovr7miJDkuIDoh7TvvIznrb7orqLmnKzlkIjlkIzjgIJcclxu5LiA44CB55Sy5pa55aeU5omY5LmZ5pa55Yi25L2c5peg57q45YyW5Yqe5YWs57O75YiX5Lqn5ZOB44CCXHJcbuS6jOOAgeWFt+S9k+inhOagvOWei+WPt+OAgeaVsOmHj+OAgeWNleS7t+WPiuS7t+agvOivpuingemZhOWQjua4heWNleOAglxyXG7kuInjgIHkuqTotKfml7bpl7TvvJo2MOW3peS9nOaXpVxyXG7lm5vjgIHpqozmlLbmnJ/pmZDvvJoyMOW3peS9nOaXpeOAglxyXG7kupTjgIHlj4zmlrnlnKjlkIjlkIzkuIrnlLXlrZDnrb7lrZfnm5bnq6DlkI7nq4vljbPnlJ/mlYjjgIIifV0sInNlYWxUeXBlIjoiY2xpZW50IiwicG9zaXRpb24iOnsicG9zMCI6eyJtYXJnaW5MZWZ0IjoiMzEycHgiLCJtYXJnaW5Ub3AiOiIwLjgxMjVweCJ9fSwidGltZWlkIjoxNDc2ODM5NzMwNjA0LCJ2ZXIiOnsibmFtZSI6IjEuMC4yMCIsImNvZGUiOjEwMH19';
			//signdata.push(map2); 
			//Signature.loadSignatures(signdata);
		});*/
		////////////////////////////////////

		window.onbeforeunload = onbeforeunload_handler;
		window.onunload = onunload_handler;
		function onbeforeunload_handler() {

		}
		function onunload_handler() {
			Signature.clearRPW();
		}

		/* ///////////绑定搜索/////////////
		 bindDOM("ipt", "ser_box", "bot_box", "oul", function(){
			 var signatureCreator = Signature.create();
			 signatureCreator.loadSeals(function(data){
			     setSeals(data);
			 });
		 });
		
		//////////////////////////// *//////
		/* 
		 Signature.AXI('KGGetKeyInfo', '', '', function(data){
		   if(data){
			   if(data.Sinopec){
				 Signature.options.showNoPW = true;
				Signature.options.password = '123456';
			   }
		   }
		 }); */
	}
</script>
</head>

<body>

<table width=100% height=100% border="0" cellspacing="0" cellpadding="0" bgcolor="ffffff">
<tr>
  <td align="center" id="in">
    <!-- <input type="button" onclick="modifyPwd()" value="密码修改"> -->
	<input type="button" pos="pos0" class="test" value="甲方签章">
	<input type="button" pos="pos0" class="testPwd" value="电子签章先密码">
	<!-- <input type="button" pos="pos0" class="testV" value="测试签章"> -->
	<input type="button" pos="pos0" class="testHWD" value="手写签名(设备)">
	<input type="button" pos="pos0" class="testFP" value="指纹签名(设备)">
	<input type="button" pos="pos0" class="testverifyPwd" value="验证密码">
	<input type="button" pos="pos3" class="test" value="乙方签章">
	<input type="button" pos="pos0" class="testSign" value="签章(数字签名)">
    <input type="button" pos="pos0" class="testHW" value="手写签名">
    <input type="button" pos="pos0" class="testBC" value="二维码">
    <input type="button" pos="pos0" class="testScanBC" value="扫码签章">
    <input type="button" pos="pos1" class="testSave" value="保存签章"> 
	<input type="button" onclick="verifySignature()" value="验证签章">
	<input type="button" onclick="showSignature()" value="显示签章">
	<input type="button" onclick="hideSignature()" value="隐藏签章">
	<input type="button" onclick="takeCare();" id="yfdiv" value="注意事项">
	<input type="button" class="testPrint" id="yfdiv" value="打印">
    <!-- <br>本页为普通页面，用户可根据自己的需求更改。注意：签章密码为<font color="red">000000</font>。正式版iSignature电子签章HTML版的签章保存在用户智能印章钥匙盘上，支持身份认证和数字证书，符合《电子签名法》。 -->
  </td>
</tr>

<tr>
  <td id=Page>
    <table width=100% border="0" cellspacing="0" cellpadding="0" align="center" bgcolor="ffffff" style="align:center">
<tr><td height="50" align="center" valign="bottom"><font color="red" size="6"><b>订购合同<b></font></td></tr>
<tr><td height="50" align="center">
    <div>合同编号:KG2016093001</div>
     
			<div id="ser_box">
				<input type="search" id="ipt" />
				   <span><input id="sousuo" pos="pos0" value="搜索签章" class="s_btn" type="submit"></span>
			</div>

			<div id="bot_box">
				<ul id="oul"></ul>
			</div>
	
</td></tr>

<tr>
<td>
<table width="600" border="0" cellspacing="0" cellpadding="0" align="center" >
<tr>
<td style="border-bottom:1px solid; border-color:#ff0000" nowrap>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
  <tr height="30">
      <td width=96 align=left><font color="red">甲方：</font></td>
      <td id="item4">同意</td>

      <td width=96  align=right><font color="red">乙方：</font></td>

      <td ><input type="text" id="item2" kg-desc="保护项2" value="金格科技有限公司"></td>
   </tr>
   <tr height="30">
      <td width=96 align=left><font color="red">协议编号：</font></td>
      <td ><input type="text" id="XYBH" value="KG0014"> </td>

      <td width=96  align=right><font color="red">保密级别：</font></td>

      <td ><input type="text" id="BMJH" kg-desc="保护项1" value="中级0"> </td>
   </tr>
</table>
</td>
</tr>



<tr>
<td style="border-bottom:1px solid; border-color:#ff0000" height="300" nowrap >
<table width="100%" border="0" cellspacing="0" cellpadding="0" align="center" height="100%">
   <tr>
              <td valign="top"><font color="red" >合作内容：</font>&nbsp;
            </tr>
           <tr>
              <td height="100%">
		<textarea rows="" cols="" id="item3" kg-desc="保护项3" style="overflow:auto;border:0;width:85%;height:95%;font-size: 14px;line-height: 2.5;padding-left:80px;">根据《合同法》及有关规定，经双方协商，达成一致，签订本合同。
一、甲方委托乙方制作无纸化办公系列产品。
二、具体规格型号、数量、单价及价格详见附后清单。
三、交货时间：60工作日
四、验收期限：20工作日。
五、双方在合同上电子签字盖章后立即生效。</textarea>
       </td>
            </tr>
</table>
</td>
<tr>


<tr>
<td style="border-bottom:1px solid; border-color:#ff0000" height="100" nowrap >
<table width="100%" border="0" cellspacing="0" cellpadding="0" align="center" height="100%">
   <tr>
              <td valign="top"><font color="red" >权利责任：</font>&nbsp;
            </tr>
            <tr>
              <td height="100%">
		<Textarea id="QLZR" name=QLZR  class=inputcss style="overflow:auto;border:0;width:85%;height:85%;font-size: 14px;line-height: 2.5;padding-left:80px " >内容完整性鉴别</Textarea>
       </td>
            </tr>
</table>
</td>
</tr>

<tr>
<td  height="250">
 
	 <table width="100%" height="250" border="0" cellspacing="0" cellpadding="0" align="center" style="border-bottom:1px solid; border-color:#ff0000;position:relative;">
            <tr height="250" style="position:absolute">
              <td width=100 valign="top" ><font color="red" >甲方签章：</font> </td>   
              <td width=200 height="250" id="pos0" style="border-bottom:1px solid; border-color:#ff0000;cursor:hand" valign="top">
              </td>
              <td width=100 valign="top" ><font color="red" >乙方签章：</font> </td>   
              <td width=200 height="250" id="pos3" style="border-bottom:1px solid; border-color:#ff0000;cursor:hand" valign="top"></td>
   </tr>
</table>

</td>
</tr>

<tr>
<td style="border-bottom:1px solid; border-color:#ff0000" height="40" nowrap >
<table width="100%" border="0" cellspacing="0" cellpadding="0" align="center" height="100%">
   <tr>
      <td width="100"  ><font color="red">&nbsp;产品名称：</font></td>
      <td><input type="text" id="CPMC" kg-desc="保护项1" value="iSignature电子签章系统"> 
   </tr>
</table>
</td>
</tr>
<tr>
<td style="border-bottom:1px solid; border-color:#ff0000" height="40" nowrap  >
<table width="100%" border="0" cellspacing="0" cellpadding="0" align="center" height="100%" >
   <tr>
      <td width="100" ><font color="red">&nbsp;订购数量：</font></td>
      <td><input type="text" id="DGSL" value="53"> </td>
   </tr>
</table>
</td>
</tr>
<tr>
<td style="border-bottom:1px solid; border-color:#ff0000" height="40" nowrap >
<table width="100%" border="0" cellspacing="0" cellpadding="0" align="center" height="100%">
   <tr>
      <td width="100" ><font color="red">&nbsp;订购日期：</font></td>
      <td><input type="text" id="DGRQ" value="2016-10-18"> </td>
   </tr>
</table>
</td>
</tr>
<tr>
<td style="border-bottom:1px solid; border-color:#ff0000" height="1" nowrap >
</td>
</tr>
</table>
</td>
</tr>
<tr><td height="60">&nbsp;</td></tr>
    </table>

  </td>
  <td width=2></td>
</tr>
<tr>
  <td height=2></td>
  <td></td>
</tr>
</table>
</body>

<script type="text/javascript">


function verifySignature() {

	var invalidSignatureArray = Signature.verify();//返回无效签章
	if (invalidSignatureArray.length > 0) {
		for (var i = 0; i < invalidSignatureArray.length; i++) {
			var signature = invalidSignatureArray[i];
			//console.log(signature.modifiedItems);//获取修改的保护项
		}
	}else{
		Signature.alert("当前文档所有签章有效");
	}
}
function findUpdateSignature(){
	var updateList = Signature.updateList;
	$('#pos2').html('<div>获取有更新的签章数据:</div>');
	for (var i = 0; i < updateList.length; i++) {
		var signature = updateList[i];
		$('#pos2').append('<div>'+signature.getSignatureid()+":"+signature.getSignatureData()+'</div>');
	}
}

function findRemoveSignature(){
	var removeList = Signature.removeList;
	$('#pos1').html('<div>获取删除的签章ID：</div>');
	for (var i = 0; i < removeList.length; i++) {
		var signatureid = removeList[i];
		$('#pos1').append('<div>'+signatureid+'</div>');
	}
}

function showSignature() {
	Signature.show();
}


function hideSignature() {
	Signature.hide();
}

$('.testV').click(function(){
	var signatureCreator = Signature.create();
	var that = this;
	var param = {name:"金格测试",width:"4",height:"4",imageData:"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"};
	signatureCreator.runHW(param, {
		protectedItems:[ 'item1', 'item2', 'item3'],//设置定位页面DOM的id，自动查找ID，自动获取保护DOM的kg-desc属性作为保护项描述，value属性为保护数据。不设置，表示不保护数据，签章永远有效。
		position: $(that).attr('pos'),//设置盖章定位dom的ID，必须设置
		okCall: function(fn) {//点击确定后的回调方法，this为签章对象 ,签章数据撤销时，将回调此方法，需要实现签章数据持久化（保存数据到后台数据库）,保存成功后必须回调fn(true/false)渲染签章到页面上
			console.log("盖章ID："+this.getSignatureid());
			console.log("盖章数据："+this.getSignatureData());
			fn(true);
		},
		cancelCall : function() {//点击取消后的回调方法
			console.log("取消！")
		}
	});
});
$('.testPwd').click(function(){
	var signatureCreator = Signature.create();
	var that = this;
	signatureCreator.runPwd({
		protectedItems:[ 'item1', 'item2', 'item3'],//设置定位页面DOM的id，自动查找ID，自动获取保护DOM的kg-desc属性作为保护项描述，value属性为保护数据。不设置，表示不保护数据，签章永远有效。
		position: $(that).attr('pos'),//设置盖章定位dom的ID，必须设置
		autoCert:true,
		okCall: function(fn) {//点击确定后的回调方法，this为签章对象 ,签章数据撤销时，将回调此方法，需要实现签章数据持久化（保存数据到后台数据库）,保存成功后必须回调fn(true/false)渲染签章到页面上
			console.log("盖章ID："+this.getSignatureid());
			console.log("盖章数据："+this.getSignatureData());
			fn(true);
							
		},
		cancelCall : function() {//点击取消后的回调方法
			console.log("取消！")
		}
	});
})
$('.testverifyPwd').click(function(){
	//点击盖章操作后
	//再此处填写密码进行校验
	var pwd = '123456';
	var that = this;
	var signatureCreator = Signature.create();
	signatureCreator.sealService.verifyPwd({pwd:pwd , keysn:signatureCreator.keysn, successCall:function(ret){
		var signatureCreator = Signature.create({password:pwd});
		//正常返回结果
		if(ret.result){
			console.log("密码验证成功");
			//往下执行签章盖章
			signatureCreator.run({
				protectedItems:[ 'item1', 'item2', 'item3'],//设置定位页面DOM的id，自动查找ID，自动获取保护DOM的kg-desc属性作为保护项描述，value属性为保护数据。不设置，表示不保护数据，签章永远有效。
				position: $(that).attr('pos'),//设置盖章定位dom的ID，必须设置
				autoCert : false,
				okCall: function(fn,did) {//点击确定后的回调方法，this为签章对象 ,签章数据撤销时，将回调此方法，需要实现签章数据持久化（保存数据到后台数据库）,保存成功后必须回调fn(true/false)渲染签章到页面上
					fn(true);
					return;
				},
				cancelCall : function() {//点击取消后的回调方法
					console.log("取消！")
				},
				beginCall: function(){},
				endCall: function(){}
			});
		}else{
			console.log("errcode:"+ret.errcode +"__errmsg:"+ret.errmsg);
			return;
		}
	},errorCall:function(){
		//验证密码异常
		console.log("验证密码异常！");
		return;
	}});
});

$('.test').click(function() {
	var signatureCreator = Signature.create(/* {
		keysn : '000000999512', //可以通过密钥盘序号或者用户编码获取签章。
		authcode:'7597E348D1A84507B3BED710F6EEC9F5'
	} */ {
		imgtag: 0
		});
		var that = this;
		//signatureCreator.getSealsByKeysn('1A10374905170616',function(list){
			var protectedItems = signatureCreator.run({
				/* batchSignature:[{documentid: 'KG2016093001', documentname: '测试文档KG2016093001'},
				                {documentid: 'KG20180308', documentname: '测试文档KG20180308'}], */
				//protectedItems:[ 'item1', 'item2', 'item3'],//设置定位页面DOM的id，自动查找ID，自动获取保护DOM的kg-desc属性作为保护项描述，value属性为保护数据。不设置，表示不保护数据，签章永远有效。
				protectedItems:[ 'item4'],
				position: $(that).attr('pos'),//设置盖章定位dom的ID，必须设置
				autoCert : false,
				/* changeOffsetXY:function(img){
					var ret = {offsetX:img.width/2,offsetY:img.height/2};
					return ret;
				}, */
				okCall: function(fn,did) {//点击确定后的回调方法，this为签章对象 ,签章数据撤销时，将回调此方法，需要实现签章数据持久化（保存数据到后台数据库）,保存成功后必须回调fn(true/false)渲染签章到页面上
					//console.log("盖章ID："+this.getSignatureid());
					//console.log("盖章数据："+this.getSignatureData());
					fn(true);
					//var image = signatureCreator.getSealsByKeysn('T001');
					signatureCreator.saveSignature(this.documentid,  this.getSignatureid(), this.getSignatureData(), function(data){
						alert(data.result);
					});
					return;
				},
				cancelCall : function() {//点击取消后的回调方法
					console.log("取消！")
				},
				beginCall: function(){
					//alert(123);
				},
				endCall: function(){
					//alert(456);
				}
			});
		//});
		
	});
	
	$('.testSign').click(function() {
		var signatureCreator = Signature.create();
		var that = this;
		var protectedItems = signatureCreator.run({
				protectedItems:[ 'item1', 'item2', 'item3'],//设置定位页面DOM的id，自动查找ID，自动获取保护DOM的kg-desc属性作为保护项描述，value属性为保护数据。不设置，表示不保护数据，签章永远有效。
				position: $(that).attr('pos'),//设置盖章定位dom的ID，必须设置
				autoCert:false,
				okCall: function(fn) {//点击确定后的回调方法，this为签章对象 ,签章数据撤销时，将回调此方法，需要实现签章数据持久化（保存数据到后台数据库）,保存成功后必须回调fn(true/false)渲染签章到页面上
					console.log("盖章ID："+this.getSignatureid());
					console.log("盖章数据："+this.getSignatureData());
					fn(true);
									
				},
				cancelCall : function() {//点击取消后的回调方法
					console.log("取消！")
				}
			});
		});
	//指纹设备连接
	$('.testFP').click(function(){
		var signatureCreator = Signature.create();
		var that = this;
		signatureCreator.fingerPrintsDevice({
			device_type: '0',//设备类型 默认为0（iWebFingerPrints组件设备(指昂ZWY-060)）
			image_type :'gif',
			onBegin: function() {
				console.log('onbegin');
			},
			errorCall:function(errcode){
				console.log('errorCall');
			},
			onEnd: function() {
				console.log('onEnd');
			}
		}, function(param){
			//alert(param.imageData);
			signatureCreator.runHW(param, {
				protectedItems:[ 'item1', 'item2', 'item3'],//设置定位页面DOM的id，自动查找ID，自动获取保护DOM的kg-desc属性作为保护项描述，value属性为保护数据。不设置，表示不保护数据，签章永远有效。
				position: $(that).attr('pos'),//设置盖章定位dom的ID，必须设置
				okCall: function(fn) {//点击确定后的回调方法，this为签章对象 ,签章数据撤销时，将回调此方法，需要实现签章数据持久化（保存数据到后台数据库）,保存成功后必须回调fn(true/false)渲染签章到页面上
					console.log("盖章ID："+this.getSignatureid());
					console.log("盖章数据："+this.getSignatureData());
					fn(true);
				},
				cancelCall : function() {//点击取消后的回调方法
					console.log("取消！")
				}
			});
		});
	});
	
	//手写签名设备连接
	$('.testHWD').click(function(){
		var signatureCreator = Signature.create();
		var that = this;
		signatureCreator.handWriteDevice({
			device_type: '0',//设备类型 默认为0（iPadControls组件设备Wacom STU-530/430/500B专用）
			copy_right:"7RkMye7b2srQserXvLy8yvXR0L6/1Lpb16jTw107MjAxNTsxMTsxMjtFWD1ERU1PXzc7VlA9RmFsc2U7VUM9RmFsc2U7VTg9RmFsc2U7Uk09RmFsc2U7TVQ9RmFsc2U7QVM9RmFsc2U7Sk09RmFsc2U7RkM9Nzs=",//设备授权码
			onBegin: function() {
				console.log('onbegin');
			},
			errorCall:function(errcode){
				console.log('errorCall');
			},
			onEnd: function() {
				console.log('onEnd');
			}
		}, function(param){
			//alert(param.imageData);
			signatureCreator.runHW(param, {
				protectedItems:[ 'item1', 'item2', 'item3'],//设置定位页面DOM的id，自动查找ID，自动获取保护DOM的kg-desc属性作为保护项描述，value属性为保护数据。不设置，表示不保护数据，签章永远有效。
				position: $(that).attr('pos'),//设置盖章定位dom的ID，必须设置
				okCall: function(fn) {//点击确定后的回调方法，this为签章对象 ,签章数据撤销时，将回调此方法，需要实现签章数据持久化（保存数据到后台数据库）,保存成功后必须回调fn(true/false)渲染签章到页面上
					console.log("盖章ID："+this.getSignatureid());
					console.log("盖章数据："+this.getSignatureData());
					fn(true);
				},
				cancelCall : function() {//点击取消后的回调方法
					console.log("取消！")
				}
			});
		});
	}); 
	
	$('.testHW').click(function() {
			var signatureCreator = Signature.create();
			var that = this;
			
			signatureCreator.handWriteDlg({
				image_height: "2.5",
				image_width: "2.5",
				onBegin: function() {
					console.log('onbegin');
				},
				onEnd: function() {
					console.log('onEnd');
				}
			}, function(param){
				//alert(param.imageData);
				signatureCreator.runHW(param, {
					protectedItems:[ 'item1', 'item2', 'item3'],//设置定位页面DOM的id，自动查找ID，自动获取保护DOM的kg-desc属性作为保护项描述，value属性为保护数据。不设置，表示不保护数据，签章永远有效。
					position: $(that).attr('pos'),//设置盖章定位dom的ID，必须设置
					okCall: function(fn) {//点击确定后的回调方法，this为签章对象 ,签章数据撤销时，将回调此方法，需要实现签章数据持久化（保存数据到后台数据库）,保存成功后必须回调fn(true/false)渲染签章到页面上
						console.log("盖章ID："+this.getSignatureid());
						console.log("盖章数据："+this.getSignatureData());
						fn(true);
					},
					cancelCall : function() {//点击取消后的回调方法
						console.log("取消！")
					}
				});
			});

		}
	);

$('.testBC').click(
		function(){
			var signatureCreator = Signature.create();
			var that = this;
			
			signatureCreator.barCodeDlg({
				image_height: "5",
				image_width: "5",
				content: "123456"
			}, function(param){
				//alert(param.imageData);
				signatureCreator.runHW(param, {
					protectedItems:[ 'item1', 'item2', 'item3'],//设置定位页面DOM的id，自动查找ID，自动获取保护DOM的kg-desc属性作为保护项描述，value属性为保护数据。不设置，表示不保护数据，签章永远有效。
					position: $(that).attr('pos'),//设置盖章定位dom的ID，必须设置
					okCall: function(fn) {//点击确定后的回调方法，this为签章对象 ,签章数据撤销时，将回调此方法，需要实现签章数据持久化（保存数据到后台数据库）,保存成功后必须回调fn(true/false)渲染签章到页面上
						console.log("盖章ID："+this.getSignatureid());
						console.log("盖章数据："+this.getSignatureData());
						fn(true);
					},
					cancelCall : function() {//点击取消后的回调方法
						console.log("取消！")
					}
				});
			});
		}
	);
	
$('.testScanBC').click(
		function(){
			var signatureCreator = Signature.create();
			var that = this;
			
			signatureCreator.scanBCDlg({
				image_height: "5",
				image_width: "5"
			}, function(param){
				//alert(param.imageData);
				signatureCreator.runHW(param, {
					protectedItems:[ 'item1', 'item2', 'item3'],//设置定位页面DOM的id，自动查找ID，自动获取保护DOM的kg-desc属性作为保护项描述，value属性为保护数据。不设置，表示不保护数据，签章永远有效。
					position: $(that).attr('pos'),//设置盖章定位dom的ID，必须设置
					okCall: function(fn, image) {//点击确定后的回调方法，this为签章对象 ,签章数据撤销时，将回调此方法，需要实现签章数据持久化（保存数据到后台数据库）,保存成功后必须回调fn(true/false)渲染签章到页面上
						console.log("盖章ID："+this.getSignatureid( ));
						console.log("盖章数据："+this.getSignatureData());
						alert(image.imgdata);
						alert(image.name);
						alert(image.height);
						alert(image.width);
					
						fn(true);
					},
					cancelCall : function() {//点击取消后的回调方法
						console.log("取消！")
					}
				});
			});
		}
	);
$('.testSave').click(function(){
	var signatureCreator = Signature.create();
	var that = this;
	var list = Signature.list;
	for ( var key in list) {
		var tt = list[key];
		signatureCreator.saveSignature("KG2016093001", key, list[key].getSignatureData());
	}
	alert("签章保存成功！");
}); 
		
 $('.s_btn').click(
		 function(){
			 var signatureCreator = Signature.create();
			 var that = this;
			 signatureCreator.runSS({
					protectedItems:[ 'item1', 'item2', 'item3'],//设置定位页面DOM的id，自动查找ID，自动获取保护DOM的kg-desc属性作为保护项描述，value属性为保护数据。不设置，表示不保护数据，签章永远有效。
					position: $(that).attr('pos'),//设置盖章定位dom的ID，必须设置
				    autoCert : false,
					okCall: function(fn) {//点击确定后的回调方法，this为签章对象 ,签章数据撤销时，将回调此方法，需要实现签章数据持久化（保存数据到后台数据库）,保存成功后必须回调fn(true/false)渲染签章到页面上
						console.log("盖章ID："+this.getSignatureid());
						console.log("盖章数据："+this.getSignatureData());
						fn(true);
					},
					cancelCall : function() {//点击取消后的回调方法
						console.log("取消！")
					},
					beginCall: function(){
						//alert(123);
					},
					endCall: function(){
						//alert(456);
					}
				}, getSeal());
		 }
  );
	
function takeCare(){
	Signature.alert('注意：（1）请先在签章服务器发放用户编码为"test"的用户并做印章。<br>（2） 由于IE9及以下浏览器受限，请使用其他浏览器访问本页面，如果需要IE访问，<br>复制本页面目录和kinggrid文件夹至服务器端访问。 ');
}

function modifyPwd(){
	
	var signatureCreator = Signature.create();
	console.log(signatureCreator);
	signatureCreator.modifyPwd({successCall:function(response){
		
	},errorCall:function(code){
		
	}});
	
	
}
$(".testPrint").click(function(){
	//alert(11);
	$('#Page').jqprint();
	
});
</script>
</html>
